llm:
  provider: api-endpoint

api-endpoint:
  api_base: http://localhost:11434/v1
  api_key: ollama
  model: gpt-oss:20b
  max_retries: 3
  retry_delay: 1.0
  sleep_time: 0.5

generation:
  temperature: 0.0  # Crucial: 0.0 minimizes hallucination in 20B models
  top_p: 0.9
  max_tokens: 4096

prompts:
  summary: |
    Briefly summarize the clinical text below.

  qa_generation: |
    You are a clinical data engineer. Your task is to extract high-quality QA pairs from the provided medical text for an SFT dataset.

    ### ADAPTIVE REQUIREMENTS:
    1. **DYNAMIC QUANTITY**: 
       - If the text is short/simple: Generate 1-2 concise QA pairs.
       - If the text is dense/technical: Generate up to {num_pairs} detailed, multi-step QA pairs.
    
    2. **DYNAMIC DEPTH**:
       - For simple facts (e.g., a single threshold): Provide a direct, focused answer.
       - For complex protocols (e.g., cell salvage, anti-D dosing): Provide a long-form "Clinical Reasoning" answer that includes evidence levels (e.g., 2+, C, P) and specific justifications found in the text.

    3. **STRICT GROUNDING**: 
       - NEVER invent dosages, timeframes, or statistics. 
       - Use ONLY the numbers provided in the "TEXT TO PROCESS". 
       - If the text mentions "Evidence Level" or "Grade" (e.g., 2+, 4, C, P), you must include these in your answer to justify the recommendation.

    4. **CLINICAL SCENARIOS**: 
       - Frame the questions as "A patient presents with..." or "What are the requirements for..." to ensure the data is useful for clinical training.

    **FORMATTING**: Output strictly as a JSON list of objects with "question" and "answer" keys.

    ---
    TEXT TO PROCESS:
    {text}
    
    Output strictly in JSON format.
